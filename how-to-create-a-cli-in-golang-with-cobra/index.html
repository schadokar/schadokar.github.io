<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.64faeeeb851b52cdf7f8.css">.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#546a90}.token.punctuation{color:#77749c}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f6416c}.token.boolean,.token.number{color:#ffd400}.token.attr-name,.token.char,.token.inserted,.token.selector,.token.string{color:#7984d1}.token.builtin{color:#df85ff}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.function{color:#ff7a60}.token.class-name{color:#a875ff}.token.keyword{color:#fdbed4}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.embed-container-sizing{position:relative}.embed-container-sizing img{display:block;height:auto;width:100%}.embed-container-sizing iframe{height:100%;left:0;position:absolute;top:0;width:100%}.container{max-width:960px;margin:0 auto;width:80%}.container.small{max-width:700px}.center{display:flex;align-items:center;justify-content:center;flex-direction:column}.navigation-body{margin-top:10px;margin-bottom:10px}.navigation-link{float:right;padding:10px;margin-bottom:1.5rem}.navigation-home{float:left;padding-top:10px;padding-bottom:10px;margin-bottom:1.5rem;font-weight:650;font-size:large}body,html{margin:0;padding:0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;box-sizing:border-box;font-size:62.5%;background:#fff}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.6;font-size:2.1rem;font-weight:400;font-family:-apple-system,BlinkMacSystemFont,Avenir,Avenir Next,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;height:100%;background:#fff}.authorName a,.first-letter,a,body,h1,h2,i,p{color:rgba(0,0,0,.84);text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6{line-height:1.1}h1{font-size:48px;margin-bottom:8px}h1,h2{text-align:left}h2{font-size:26px;font-weight:700;padding:0;margin:56px 0 -13px -1.883px;line-height:34.5px;letter-spacing:-.45px}a,i,p{margin-top:21px;font-size:21px;letter-spacing:-.03px;line-height:1.58}a{text-decoration:underline}blockquote{font-size:30px;font-style:italic;letter-spacing:-.36px;line-height:44.4px;overflow-wrap:break-word;color:rgba(0,0,0,.68);border-left:3px solid rgba(0,0,0,.84);padding-left:20px;margin:55px 0 33px -23px;padding-bottom:2px}blockquote p:last-child{margin-bottom:0}code,pre{font-size:16px;background:#f3f3f3;font-family:SFMono-Regular,Menlo,Monaco,Courier New,Courier,monospace}code{padding:3px 4px;margin:0 2px}pre{overflow:scroll;padding:20px;white-space:pre-wrap}pre code{padding:0;margin:0}.highlighted,mark{background:#7dffb3}.first-letter{overflow-wrap:break-word;font-size:60px;line-height:60px;display:block;position:relative;float:left;margin:0 7px 0 -5px}.subtitle{color:rgba(0,0,0,.54);margin:0 0 24px}::selection{background-color:#e6e6fa}img{max-width:100%}h1,h2,h3,h4,h5,h6{position:relative}.anchor{position:absolute;left:-30px;opacity:0;width:30px}h1:hover .anchor,h2:hover .anchor,h3:hover .anchor,h4:hover .anchor,h5:hover .anchor,h6:hover .anchor{opacity:1}h1 .anchor{margin-top:21px}h3 .anchor{margin-top:5px}h4 .anchor{margin-top:2px}figcaption{width:100%;margin-top:10px;line-height:1.4;color:rgba(0,0,0,.68);letter-spacing:0;text-align:center;font-size:14px}.pill{font-size:1.5rem;display:inline-flex;align-items:center;padding:0 1rem;height:2.5rem;margin:.2rem;border-radius:1.2rem;background-color:#e6e6fa;color:rgba(0,0,0,.84)}.pill:not(:first-child){margin-left:0}.blog h1 a{text-decoration:none;font-size:48px;color:#e6e6fa;margin-left:-40px}.blog h3{margin-top:2.5em}.blog header{margin-top:5em;margin-bottom:2em}.blog header p{font-size:.75em}.blog footer{margin-top:4em;text-align:left}.blog footer small{font-size:.8em;opacity:.7}.blog footer small a{font-size:17px}.main-bio-container{display:flex;margin-top:7em}.main-bio{flex:0 0 80%;margin-right:1.5rem}.main-bio h1{margin-top:0}.horizontal-links svg{width:16px;height:16px}.horizontal-links svg path{fill:rgba(0,0,0,.48)}.main-bio-container svg:hover path{fill:#00acee}@media (max-width:1024px){.main-bio-container{flex-wrap:wrap;margin-top:2em}.main-bio{order:1;flex:0 0 100%;margin-right:0}.main-bio h1{margin-top:2.5rem}}.horizontal-links{list-style-type:none;margin-bottom:0;padding-left:0}.horizontal-links>li{display:inline-block;margin-right:1.5rem;margin-bottom:0}.horizontal-links>li:last-child{margin-right:0}@media only screen and (max-width:480px){.horizontal-links{margin-left:0}}@media only screen and (max-width:320px){.horizontal-links{display:block;font-size:.8rem}.horizontal-links>li{margin-right:.8rem}}@media (max-width:375px){footer{display:block}}.blog-listing{display:block;margin-top:1em;margin-bottom:1em;text-decoration:none}.blog-listing p{margin-top:1rem}.blog-listing h2{margin-bottom:1rem}.project-header{font-weight:700;font-size:xx-large;padding-bottom:20px;margin-top:20px}.project-data{font-weight:600;margin-top:25px}.project-github-btn{float:right}.project-back-to-home{float:right;font-size:large}</style><meta name="generator" content="Gatsby 2.18.16"/><title data-react-helmet="true">How to create a CLI in golang with cobra</title><link data-react-helmet="true" rel="canonical" href="https://medium.com/@shubhamchadokar04/how-to-create-a-cli-in-golang-with-cobra-d729641c7177"/><meta data-react-helmet="true" name="description" content="Have you ever wonder why in the world of GUI, CLI still exist? You’ll better understand it when you build one of your own."/><meta data-react-helmet="true" property="og:title" content="How to create a CLI in golang with cobra"/><meta data-react-helmet="true" property="og:description" content="Have you ever wonder why in the world of GUI, CLI still exist? You’ll better understand it when you build one of your own."/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="schadokar1"/><meta data-react-helmet="true" name="twitter:title" content="How to create a CLI in golang with cobra"/><meta data-react-helmet="true" name="twitter:description" content="Have you ever wonder why in the world of GUI, CLI still exist? You’ll better understand it when you build one of your own."/><meta data-react-helmet="true" name="twitter:label1" content="Reading time"/><meta data-react-helmet="true" name="twitter:data1" content="8 min read"/><link rel="icon" href="/icons/icon-48x48.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#001724"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=54c551734a9140d6e7b88f62ab633ed6"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/app-13d029d0acd1fb469d34.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-957f66fbdf20d85e524e.js"/><link as="script" rel="preload" href="/styles-9f2f8ba11a27ba11f3e8.js"/><link as="script" rel="preload" href="/commons-202325fe017350888d90.js"/><link as="script" rel="preload" href="/webpack-runtime-0527226ffe0bf4b6c4d9.js"/><link as="fetch" rel="preload" href="/page-data\how-to-create-a-cli-in-golang-with-cobra\page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><section class="center blog"><article class="container small"><header><h1><a href="/">«</a> <!-- -->How to create a CLI in golang with cobra</h1><p>November 18, 2019<!-- --> • ☕️☕️ 8 min read</p><div class="pills"></div></header><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/011430ccbcdb22c0c4b5252e4e64dd29/cac3b/asset-1.jpg" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:66.640625%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAG2UYkHE//EABkQAAMBAQEAAAAAAAAAAAAAAAABAhETIf/aAAgBAQABBQKXY02oWTzMyV4f/8QAFREBAQAAAAAAAAAAAAAAAAAAABL/2gAIAQMBAT8BS//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AVf/xAAbEAACAQUAAAAAAAAAAAAAAAAAETECEiJBUf/aAAgBAQAGPwKSp92Y2kyIR//EABwQAAMAAgMBAAAAAAAAAAAAAAABESExQWFxgf/aAAgBAQABPyGtxlX8KkWKwoxCaPOSFcpsJdmPsu7bh//aAAwDAQACAAMAAAAQrz//xAAYEQADAQEAAAAAAAAAAAAAAAAAASERMf/aAAgBAwEBPxBLOIqn/8QAGBEAAgMAAAAAAAAAAAAAAAAAABEBITH/2gAIAQIBAT8Qb2Sp/8QAHRABAQACAgMBAAAAAAAAAAAAAREAIUFRMWGBsf/aAAgBAQABPxANCXbGPNnFw4aKHQqd/hgoq2rF5OKI3qPneHzSSu2+cWmjlZvR6z//2Q==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="Photo by Marvin Meyer on Unsplash" title="Photo by Marvin Meyer on Unsplash" src="/static/011430ccbcdb22c0c4b5252e4e64dd29/571ad/asset-1.jpg" srcSet="/static/011430ccbcdb22c0c4b5252e4e64dd29/8dc06/asset-1.jpg 175w,/static/011430ccbcdb22c0c4b5252e4e64dd29/f4417/asset-1.jpg 350w,/static/011430ccbcdb22c0c4b5252e4e64dd29/571ad/asset-1.jpg 700w,/static/011430ccbcdb22c0c4b5252e4e64dd29/566e2/asset-1.jpg 1050w,/static/011430ccbcdb22c0c4b5252e4e64dd29/3a5dd/asset-1.jpg 1400w,/static/011430ccbcdb22c0c4b5252e4e64dd29/cac3b/asset-1.jpg 2560w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">Photo by Marvin Meyer on Unsplash</figcaption>
  </figure></p><p>Have you ever wonder why in the world of GUI, CLI still exist? You’ll better understand it when you build one of your own.</p><p>When you learn golang then it is very often that you’ll come across that ‘golang is great to build cli tools’. This fascinated me too. So, I tried to get my hands dirty and found a few tutorials of creating a cli but most of all are not basic. In this tutorial, I’ll try to smooth the learning curve.</p><p>This is the basic cli application where we are going to cover basic cli operations. I am planning to write another article with advance cli operations but that’s for later.</p><p>We are creating a simple mathematical cli which will be capable of doing the following 2 jobs:</p><ul><li>addition of numbers</li><li>addition of only even or odd numbers</li></ul><p>I know these jobs don’t meet your expectations but trust me, after this, you will feel comfortable with building a cli.</p><hr/><h3 id="what-is-cli-command-line-interface"><a href="#what-is-cli-command-line-interface" aria-label="what is cli command line interface permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is CLI? (Command Line Interface)</h3><p>CLI works on the basic principle of software engineering, takes the input, process it and gives the output. In the cli tool instead of a flashing frontend, it takes the input from the <strong><em>black window</em></strong>. Remember, Matrix Trilogy.</p><p>If you are using <strong><em>Windows</em></strong>  just type  <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cmd</span></span></code> or <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">powershell</span></span></code> in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">start</span></span></code>and enter, the black window or blue window is a cli.</p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/27ca1af7569932ed9f7f093b8183af6c/f0628/asset-2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:56.91666666666666%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAc0lEQVQoz+3SMQrAIAxA0QwWRC0JKOhdnKwO7RncRO9/hYZ26Kp7/5bhkSGBEAIRGWOEENtcUkoAqLWCtVYpxXifjpcxHmOAc05rbVZCRMa99x+v4vdUeqUPe+95oOnwiXFrDc7zSikdc+WcY4z8J4xLKTf28jPFOwXEMgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cmd" title="cmd" src="/static/27ca1af7569932ed9f7f093b8183af6c/69344/asset-2.png" srcSet="/static/27ca1af7569932ed9f7f093b8183af6c/17006/asset-2.png 175w,/static/27ca1af7569932ed9f7f093b8183af6c/d6f3f/asset-2.png 350w,/static/27ca1af7569932ed9f7f093b8183af6c/69344/asset-2.png 700w,/static/27ca1af7569932ed9f7f093b8183af6c/b1f9d/asset-2.png 1050w,/static/27ca1af7569932ed9f7f093b8183af6c/f0628/asset-2.png 1200w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">cmd</figcaption>
  </figure></p><p>In Mac or Linux it is known by the name <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">terminal</span></span></code> .</p><blockquote><p>A <a href="https://en.wikipedia.org/wiki/Command-line_interface" target="_blank" rel="nofollow noopener noreferrer"><strong>command-line interface</strong> (<strong>CLI</strong>)</a> is a means of interacting with a <a href="https://en.wikipedia.org/wiki/Computer_program" title="Computer program" target="_blank" rel="nofollow noopener noreferrer">computer program</a> where the <a href="https://en.wikipedia.org/wiki/User_%28computing%29" title="User (computing)" target="_blank" rel="nofollow noopener noreferrer">user</a> (or <a href="https://en.wikipedia.org/wiki/Client_%28computing%29" title="Client (computing)" target="_blank" rel="nofollow noopener noreferrer">client</a>) issues <a href="https://en.wikipedia.org/wiki/Command_%28computing%29" title="Command (computing)" target="_blank" rel="nofollow noopener noreferrer">commands</a> to the program in the form of successive lines of text (command lines). The program which handles the interface is called a <strong>command-line interpreter</strong> or <strong>command-line processor</strong>. — <a href="https://en.wikipedia.org/wiki/Command-line_interface" target="_blank" rel="nofollow noopener noreferrer">wikipedia</a></p></blockquote><p>There are many CLIs’ you might work on like npm, node, go, python, docker, Kubernetes etc. All are an ideal interface to interact with the software.</p><h4 id="why-they-are-still-using-cli"><a href="#why-they-are-still-using-cli" aria-label="why they are still using cli permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why they are still using CLI?</h4><ul><li>It is lightweight and fast.</li><li>Minimal or no dependencies.</li><li>Best for system administration and task-based automation etc.</li></ul><hr/><p>Enough of theory, let’s start with the requirements:</p><ul><li>golang installed (I am using go1.11.5 windows/amd64)</li><li>Cobra library (<code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go get -u github.com/spf13/cobra/cobra</span></span></code>)</li><li>Any code editor of your choice. (I am using VS Code)</li></ul><blockquote><p>I recommend to use VS code and install the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go</span></span></code> extension by Microsoft. This will update the import statement according to the code. If you use a new package, it will import that package on save. If a package is imported and not used, it will remove that package from the import.</p></blockquote><p>A little introduction to the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Cobra</span></span></code> library. We will use cobra cli to use the cobra library. We will use a cli to build a cli 😃</p><blockquote><p><a href="https://github.com/spf13/cobra" target="_blank" rel="nofollow noopener noreferrer">Cobra</a> is both a library for creating powerful modern CLI applications as well as a program to generate applications and command files.</p></blockquote><blockquote><p>Many of the most widely used Go projects are built using Cobra, such as: <a href="http://kubernetes.io/" target="_blank" rel="nofollow noopener noreferrer">Kubernetes</a>, <a href="http://gohugo.io/" target="_blank" rel="nofollow noopener noreferrer">Hugo</a>, <a href="https://github.com/docker/distribution" target="_blank" rel="nofollow noopener noreferrer">Docker (distribution)</a> etc. — <a href="https://github.com/spf13/cobra" target="_blank" rel="nofollow noopener noreferrer">Github</a></p></blockquote><hr/><h3 id="cobra-concepts"><a href="#cobra-concepts" aria-label="cobra concepts permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cobra Concepts</h3><p>Cobra is built on a structure of commands, arguments &amp; flags.</p><ul><li><strong>Commands</strong> represent actions</li><li><strong>Args</strong> are things</li><li><strong>Flags</strong> are modifiers for those actions</li></ul><p>The basic structure will be like a simple sentence</p><p><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">APPNAME Command Args --Flags</span></span></code> or <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">APPNAME Command --Flags Args</span></span></code></p><p><strong>For Ex.</strong></p><ul><li><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">git clone URL -bare</span></span></code></li><li><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go get -u URL</span></span></code></li><li><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">npm install package --save</span></span></code></li><li><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">docker run image -d</span></span></code></li></ul><hr/><p>Create a new project directory <strong>outside</strong> the <strong>GOPATH</strong>. I have created <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc**</span></span></code> project directory for this tutorial. You can name any of your choices.</p><p>Creating projects outside the <strong>GOPATH</strong> ease the importing local files. Initialize modules in the project. This module will keep all the libraries and dependency require and used in this project. It is similar to the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">package.json</span></span></code> in the nodejs. To read more about the modules, please read this great <a href="https://medium.com/rungo/anatomy-of-modules-in-go-c8274d215c16" target="_blank" rel="nofollow noopener noreferrer">article</a>.</p><blockquote><p>A <em>module</em> is a collection of related Go packages that are versioned together as a single unit.</p></blockquote><blockquote><p>Modules record precise dependency requirements and create reproducible builds. — <a href="http://A%20module%20is%20a%20collection%20of%20related%20Go%20packages%20that%20are%20versioned%20together%20as%20a%20single%20unit.%20%20Modules%20record%20precise%20dependency%20requirements%20and%20create%20reproducible%20builds." target="_blank" rel="nofollow noopener noreferrer">wiki</a></p></blockquote><p>Open the project directory in the command line of your choices. I am using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**bash**</span></span></code>. Once you are inside the project directory, run the below command to initialize the modules.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go mod init my-calc</span></div></div></pre><p>You can notice that it creates a  <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go.mod**</span></span></code> file in the project.</p><blockquote><p><strong>Note:</strong> Creating modules inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**_$GOPATH_**</span></span></code>is disabled by default. You will get this error if you run above command — <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**_go: modules disabled inside GOPATH/src by GO111MODULE=auto; see ‘go help modules’_**</span></span></code> . If you still want to create the go modules inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**$GOPATH**</span></span></code> then first set <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**_GO111MODULE_**</span></span></code> environment variable to <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**_on_**</span></span></code><strong>.</strong> <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**export GO111MODULE=on**</span></span></code></p></blockquote><p>Now whenever you use any third-party packages in the project, it’ll save it as a dependency with their version. In this way, even if a breaking change introduces in the new version of the library, your project will work as expected.</p><hr/><p>If you still haven’t installed the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**cobra**</span></span></code>  library, you can install it using below command.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go get -u github.com/spf13/cobra/cobra</span></div></div></pre><p>Initialize the cli scaffolding for the project using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra init</span></span></code>command.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra init my-calc</span></div></div></pre><p>It will initialize the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> project with <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra</span></span></code> library. You can observe that it created a few files in the project.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">▾ my-calc/</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  ▾ cmd/</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">     root.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   main.go</span></div></div></pre><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">main.go</span></span></code> is the entry point of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cli</span></span></code> . Inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">main.go</span></span></code> it is calling the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Execute</span></span></code> function of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cmd/root.go</span></span></code> .</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// main.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">package main</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">import &quot;my-calc/cmd&quot;</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func main() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   cmd.Execute()</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>Let’s examine the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">root.go</span></span></code> .</p><h3 id="rootcmd"><a href="#rootcmd" aria-label="rootcmd permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>rootCmd</h3><p>Root command is the base command of any cli. For Ex. <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go get URL</span></span></code> — <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go**</span></span></code>  is the root command here and <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**get**</span></span></code>  is the child command of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go**</span></span></code>. In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**root.go**</span></span></code> it is initiating the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>  struct  variable with the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra</span></span></code> command. All the other commands in the cli will be a child of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code><strong> .</strong></p><p>Open the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">root.go</span></span></code> in the editor and inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">rootCmd</span></span></code> uncomment the</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {},</span></div></div></pre><p>And paste the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">fmt.Println(&quot;Hello CLI&quot;)</span></span></code> inside the curly braces.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {fmt.Println(&quot;Hello CLI&quot;},</span></div></div></pre><blockquote><p>⚠️ Don’t remove the comma after the closing curly braces. It will throw syntax error.</p></blockquote><p>Open the terminal inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> project and run</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></div></div></pre><p>This command will generate the binary or executable file of the project in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**$GOPATH/bin**</span></span></code>  folder.</p><p>Now run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc**</span></span></code>  in the terminal. As it is saved in the bin folder you don’t have to set the environment variable for this.</p><blockquote><p>The name of cli is the <strong>rootCmd</strong>. <strong>my-calc</strong> is the rootCmd.</p></blockquote><p>You will see the output similar to this.</p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/d32783c4b2c0b798d9d10c6ff588d07d/c112d/asset-3.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:34%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQY05WNwYqDQBBEa9rumZ6ok426ISTfK/gxEiJ78eBFvfhZOwq7JJAQ8ngUPYeawvV27X66rrvF7Pt+nuZpmuY1njOO4zAMy7K0bQt/8v7o/bfXs+6cP6BQlixHliGENdMUxuAfsz1CCHVdQ09qKyuF8JG90wKlZ8m32n6PfPvlablpGlSXyqUOBDgklCiUyViLqOqaIrjnocwl0xchBw5QqyWqnUjYNt8vI/nTgogEkpBhXgej8Yi+XP6U+/Iv8BE73dSGewYAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="hello-cli" title="hello-cli" src="/static/d32783c4b2c0b798d9d10c6ff588d07d/69344/asset-3.png" srcSet="/static/d32783c4b2c0b798d9d10c6ff588d07d/17006/asset-3.png 175w,/static/d32783c4b2c0b798d9d10c6ff588d07d/d6f3f/asset-3.png 350w,/static/d32783c4b2c0b798d9d10c6ff588d07d/69344/asset-3.png 700w,/static/d32783c4b2c0b798d9d10c6ff588d07d/b1f9d/asset-3.png 1050w,/static/d32783c4b2c0b798d9d10c6ff588d07d/c112d/asset-3.png 1150w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">hello-cli</figcaption>
  </figure></p><hr/><h3 id="init"><a href="#init" aria-label="init permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>init</h3><p>This is the first function which gets called whenever a package initialize in the golang. The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**cobra.OnInitialize(funcDeclarations)**</span></span></code>  append the user-defined functions in the command’s initialization. <strong><em>Whenever the command run or called it will first execute all the functions in the command’s initialization and then it will run the execute method.</em></strong>  This initialization can be used in loading the configuration file or can be used as constructor. It all depends on your use case and your creativity.</p><p>I believe I lost you here. Let’s understand this with an example.</p><p>In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">root.go</span></span></code> , the command is the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>.</p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**cobra.OnInitialize(initConfig)**</span></span></code>  append the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**initConfig**</span></span></code>function declaration in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>’s initialization. So, whenever the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>  ‘s execute method (<code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**RUN: func**</span></span></code>) run, the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>  will first run the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**initConfig**</span></span></code>function. Once the execution of all the initialize functions over, it will run the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**RUN: func**</span></span></code> execution method of <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>.</p><p>To visualize it, add a print message in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**initConfig**</span></span></code>  function.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func initConfig() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   fmt.Println(&quot;inside initConfig&quot;)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">...</span></div></div></pre><p>Save the changes. Open the terminal inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> project.</p><p>Rebuild the binary <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go install my-calc**</span></span></code><strong>.</strong></p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></div></div></pre><p>Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc**</span></span></code>. Whenever you’ll make any changes in the cli you have to rebuild the binary. Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go install my-calc**</span></span></code> to reflect it in the cli commands.</p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/e1eea4366de9cfc2c0fa66f529e66f29/8263a/asset-4.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:35.59027777777778%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0klEQVQY05WOQU7DMBBFv+1x7LHjOG5BDZWy6obTJZerWmCTrmjukMswRShiQRY8fb/x5msG7x/X8+V8ebsK4tt0m+/z/Hj3P/n8ZpqmZVmQ+4Y7jl0Mh8AvHG0s2EU2TYOclaRplPcKUCvWWgDDMCD1yXXOPlldDD1TMGGHfXA6JUhfIh/n8BsiEo/jiNPr6dgf8z6nNhlvNDSBZBgZBNkh1nqjXLrCLdtopalYkSIPT0ZVFdYYs1HmAyMCNR7OCBRalOB/zhbX9fbZFVn8k7X8BRHfPIigowj/AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="initConfig" title="initConfig" src="/static/e1eea4366de9cfc2c0fa66f529e66f29/69344/asset-4.png" srcSet="/static/e1eea4366de9cfc2c0fa66f529e66f29/17006/asset-4.png 175w,/static/e1eea4366de9cfc2c0fa66f529e66f29/d6f3f/asset-4.png 350w,/static/e1eea4366de9cfc2c0fa66f529e66f29/69344/asset-4.png 700w,/static/e1eea4366de9cfc2c0fa66f529e66f29/b1f9d/asset-4.png 1050w,/static/e1eea4366de9cfc2c0fa66f529e66f29/8263a/asset-4.png 1152w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">initConfig</figcaption>
  </figure></p><p>You can see that <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">initConfig</span></span></code> run first and later <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Hello CLI</span></span></code> .</p><p>To understand the complete flow of cli, add a message inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**init**</span></span></code> function and a message inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**main**</span></span></code>  func in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**main.go**</span></span></code>.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// root.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func init() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">     fmt.Println(&quot;inside init&quot;)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">     cobra.OnInitialize(initConfig)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">...</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// main.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func main() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">     fmt.Println(&quot;inside main&quot;)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">     cmd.Execute()</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>Save the changes. Rebuild the binary <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go install my-calc**</span></span></code> and run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc**</span></span></code><strong> .</strong></p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/17b85b4331b6cb6c197f40821572b78c/8263a/asset-5.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:38.97569444444444%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAAA70lEQVQY05WPzWrDMBCEx5J2JauSLP+lBjeQNG8fSmyffPAhzptVSSANtIX2YxjmsMOw+Dgdh+k0TMM4jcM4zPO8ntd1PV8uSdeQuPszy7IkR3gLvvehL1zn3NY561qxCTaPpawqVdeqLFVRKCL1gIgANE2D/DXXneaWqSbuWLOuUFsi5+EdQoD3sBbPZFmWPMaI/r3v972rHATAUFIa5CQFa2gNY66elm7338qH/WG33XWbLvrIxPgDX+XYRhstWVJGZSYTQjBYCZHWkphxDz8vU8MIgL+phNGmQfvCHAoURbq4vu3cL2UpJP7Jo/wJ11811OEoESUAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="cli flow" title="cli flow" src="/static/17b85b4331b6cb6c197f40821572b78c/69344/asset-5.png" srcSet="/static/17b85b4331b6cb6c197f40821572b78c/17006/asset-5.png 175w,/static/17b85b4331b6cb6c197f40821572b78c/d6f3f/asset-5.png 350w,/static/17b85b4331b6cb6c197f40821572b78c/69344/asset-5.png 700w,/static/17b85b4331b6cb6c197f40821572b78c/b1f9d/asset-5.png 1050w,/static/17b85b4331b6cb6c197f40821572b78c/8263a/asset-5.png 1152w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">cli flow</figcaption>
  </figure></p><p>Now, you know the cli command flow.</p><p>The last thing in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code> function is <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">flags</span></span></code> .</p><p>Flags are like modifiers to the command. You can think of them as conditional actions. We will learn more about it later in the tutorial.</p><p>There are 2 types of flags <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**Persistent Flags**</span></span></code>  and <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**Local Flags**</span></span></code>.</p><ul><li><strong>Persistent Flags:</strong> This flag will be available to the command it is assigned as well as all the child or subcommands of the command.</li><li><strong>Local Flags:</strong> This flag is only available to the command which it is assigned to.</li></ul><hr/><h3 id="initconfig"><a href="#initconfig" aria-label="initconfig permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>initConfig</h3><p>This function is setting the configuration path in the home directory and config filename is <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">.my-calc</span></span></code> . It will use the configuration file if it exists.</p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**viper**</span></span></code>  library is famous for configuration solution for go application. It reads from JSON, TOML, YAML, HCL, envfile and Java properties config files. It does much more than reading configuration. To learn more about it, follow this <a href="https://github.com/spf13/viper" target="_blank" rel="nofollow noopener noreferrer">link</a>.</p><p>With this function, we completed the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">root.go</span></span></code> examination. It is a bit lengthier, but it is good to understand what we are using.</p><blockquote><p><strong>Note:</strong> Now if you want, you can remove all the print statements from the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">_root.go_</span></span></code> and <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">_main.go_</span></span></code> . I have removed all the print statements to keep the code clean.</p></blockquote><hr/><p>It’s time to add some commands in our cli. We already created one command which is <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc**</span></span></code> as<code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">rootCmd</span></span></code> which returns <strong>Hello CLI.</strong></p><h3 id="add-numbers"><a href="#add-numbers" aria-label="add numbers permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>add numbers</h3><p>Open the terminal inside the project directory and create a command named <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**add**</span></span></code> . The cobra command to add a new command is</p><p><code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**cobra add &lt;commandName&gt;**</span></span></code></p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra add add</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// output</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add created at C:\Work\golang\my-calc</span></div></div></pre><p>Check the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cmd</span></span></code> folder, an <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add.go</span></span></code> file is added in it.</p><p>Open the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add.go</span></span></code> . It is similar to the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">root.go</span></span></code> .</p><p>First, an <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> struct variable is declared of type <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">*cobra.Command</span></span></code> .</p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">*cobra.Command</span></span></code> have <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">RUN</span></span></code> which is a func and takes pointer of <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">***cobra.Command**</span></span></code> and a slice of string <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**[]string**</span></span></code>.</p><p>Then it is initialized in <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code> function. In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code>, it is added to the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code><strong>.</strong> We can understand it as <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**addCmd**</span></span></code>is the sub-command or child command of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code>.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func init() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   rootCmd.AddCommand(addCmd)</span></div></div></pre><p>In the terminal, rebuild the binary using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**go install my-calc**</span></span></code> command and run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc add**</span></span></code><strong> .</strong></p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/a8d5b1f2e68885607c1591c88b9d1028/8263a/asset-6.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:32.11805555555555%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwUlEQVQY03WOS3KDMBBEeyShzEgYEeMP2L4gxdFclQLiFV7FnztwnGCxiBehq+ftut7gqz23fdtduv7Sd9/ddbg+b8/7/Tb38XjxPT8xwzCM4wi3EylFtsIFc8msOSCwVd4jTTHROViL9xhjJtZ1DXd0fGCphHdsSuMTX2DjRYccISCPFPln3DQNqlO1r/brzdpYA4IipaBfp/9KtDBOtgk+QRlhBRSYzWk057FZtmy28gEFaMwkokmmaH4AKnbJ/AvQZDi5Fil66AAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="add called" title="add called" src="/static/a8d5b1f2e68885607c1591c88b9d1028/69344/asset-6.png" srcSet="/static/a8d5b1f2e68885607c1591c88b9d1028/17006/asset-6.png 175w,/static/a8d5b1f2e68885607c1591c88b9d1028/d6f3f/asset-6.png 350w,/static/a8d5b1f2e68885607c1591c88b9d1028/69344/asset-6.png 700w,/static/a8d5b1f2e68885607c1591c88b9d1028/b1f9d/asset-6.png 1050w,/static/a8d5b1f2e68885607c1591c88b9d1028/8263a/asset-6.png 1152w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">add called</figcaption>
  </figure></p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add</span></span></code> command is working fine. It’s time to modify it to add a series of numbers.</p><p>The commands only take a slice of string as an argument. To add the numbers, we first have to convert the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">string</span></span></code> into <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code> then return the result. We will use <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">strconv</span></span></code> library to convert the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">string</span></span></code> to <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code>.</p><p>Import the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">strconv</span></span></code> package.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">import (</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   &quot;fmt&quot;</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   &quot;strconv&quot;</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   &quot;github.com/spf13/cobra&quot;</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">)</span></div></div></pre><p>Inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add.go</span></span></code>, create a new <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**addInt**</span></span></code>  function.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// add.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func addInt(args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   var sum int</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  // iterate over the arguments</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  // the first return value is index of args, we can omit it using _</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  </span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   for _, ival := range args {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> // strconv is the library used for type conversion. for string</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> // to int conversion Atio method is used.</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       itemp, err := strconv.Atoi(ival)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       </span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       if err != nil {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">           fmt.Println(err)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       sum = sum + itemp</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   fmt.Printf(&quot;Addition of numbers %s is %d&quot;, args, sum)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>Save the changes.</p><p>In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> variable, update the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">RUN</span></span></code> func. Remove the print message and call the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addInt</span></span></code> function with <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">args</span></span></code>.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// addCmd</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  addInt(args)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">},</span></div></div></pre><p>Rebuild the binary using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></span></code> .</p><p>Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc add 2 3</span></span></code> .</p><blockquote><p>⚠️Don’t forget the space between the arguments.</p></blockquote><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/f227c920c54caeb30e33b44fdee08928/7d143/asset-7.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:29.278887923544744%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0ElEQVQY05WNy2rDMBRERxKKrLcty2qCU2iDP6BfHpwGigte2MqP1Q7BFJpND8Os7rmDr+F67s+X62VJ/9kPw/dtuuV5zvmReX70xjRN4zjmnNGcojooczCqUbrVWupIoimE86QsaVVR76m1lDG6wRgDEGNEeAu7tJNJilrwxAUXJSrJubGwBs7BWiiF3xBClg4hoPvo0inF19h2rTs6Z91LsbeykApaw5jVlBL3+z9y/V7Dg3jCSkYj1VI1JBkhrFtnvV+Xly/PZa00/skm/wCObzU5GjM1rAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="add int" title="add int" src="/static/f227c920c54caeb30e33b44fdee08928/69344/asset-7.png" srcSet="/static/f227c920c54caeb30e33b44fdee08928/17006/asset-7.png 175w,/static/f227c920c54caeb30e33b44fdee08928/d6f3f/asset-7.png 350w,/static/f227c920c54caeb30e33b44fdee08928/69344/asset-7.png 700w,/static/f227c920c54caeb30e33b44fdee08928/b1f9d/asset-7.png 1050w,/static/f227c920c54caeb30e33b44fdee08928/7d143/asset-7.png 1151w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">add int</figcaption>
  </figure></p><p>You can pass as many arguments as you want. If you remember the args is a slice of string. But there is a limitation in this function. It can only add integers not decimal number. In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addInt</span></span></code> function we are converting the string into <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code> not in <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">float32/64</span></span></code> .</p><p>It is time to introduce a <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">flag</span></span></code> in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> . This flag will help the cli to decide if it is an <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code> operation or <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">float</span></span></code>.</p><p>In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add.go</span></span></code> , inside the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code> func, create a local flag of the bool type, <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**Flags().BoolP**</span></span></code>. Its name will be <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">float</span></span></code> , shortened name <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">f</span></span></code> , default value <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">false</span></span></code> and description. The default value is very important. It means even if flag is not called in the command, the flag value will be <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">false</span></span></code> . For bool type, if a flag is called it will toggle the default.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// add.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func init() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> rootCmd.AddCommand(addCmd)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> addCmd.Flags().BoolP(&quot;float&quot;, &quot;f&quot;, false, &quot;Add Floating Numbers&quot;)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>Create a new <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addFloat</span></span></code> function in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add.go</span></span></code></p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// add.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func addFloat(args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    var sum float64</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    for _, fval := range args {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    // convert string to float64 </span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       ftemp, err := strconv.ParseFloat(fval, 64)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       if err != nil {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">          fmt.Println(err)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">       sum = sum + ftemp</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    fmt.Printf(&quot;Sum of floating numbers %s is %f&quot;, args, sum)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>This function is the same as <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addInt</span></span></code> except, it is converting <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**string**</span></span></code> to <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**float64**</span></span></code>.</p><p>In the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">RUN</span></span></code> function, it will call the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addInt</span></span></code> or <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addFloat</span></span></code> according to the flag. If flag <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">--float or -f</span></span></code> is passed then it will call <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addFloat</span></span></code> .</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// add.go </span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// addCmd</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> // get the flag value, its default value is false</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> fstatus, _ := cmd.Flags().GetBool(&quot;float&quot;)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain"> if fstatus { // if status is true, call addFloat</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    addFloat(args)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  } else {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    addInt(args)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">},</span></div></div></pre><p>Save all the changes. Rebuild the binary using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></span></code> .</p><p>Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc add 1.2 2.5 -f</span></span></code> or <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc add 1.2 2.5 --float</span></span></code></p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/79b6de9ec7d02a369e488e8ac249c251/c112d/asset-8.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:33.565217391304344%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1UlEQVQY053Nvw6CMBAG8GuhXqVoQVoUF6Mx7r6WARcnX8igJDJBwp9Fn8xqiAwy+eXLXYf+cnBJL9fsmt5S03uet1Xb1HXTVk3Tt66rPmVZPB/F6Zzt9sDnnGuOAY4iRI4SJFLmCHAcmEzeczwGSuE3hzgGDNFInCELmcE++Jwy4YIQXV13GMcGq41ebBfhOgy2wXIZRaNo5k6VRqX4auWbabxlDeBjkgD1qO3ZzGO2toUQiugpd6RPPWkpxaS0zOVBnJjLfyfuMOkn+SxCuh/fxyB+Ab3IN3KUkOuKAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="add float flag" title="add float flag" src="/static/79b6de9ec7d02a369e488e8ac249c251/69344/asset-8.png" srcSet="/static/79b6de9ec7d02a369e488e8ac249c251/17006/asset-8.png 175w,/static/79b6de9ec7d02a369e488e8ac249c251/d6f3f/asset-8.png 350w,/static/79b6de9ec7d02a369e488e8ac249c251/69344/asset-8.png 700w,/static/79b6de9ec7d02a369e488e8ac249c251/b1f9d/asset-8.png 1050w,/static/79b6de9ec7d02a369e488e8ac249c251/c112d/asset-8.png 1150w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">add float flag</figcaption>
  </figure></p><p>You can do lots of things with flags. You can even pass values to flags like a slice of int, float, string etc.</p><p>The basic addition of operation implementation is completed.</p><p>Let’s expand it by adding sub-commands to the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> .</p><hr/><h3 id="add-even-numbers"><a href="#add-even-numbers" aria-label="add even numbers permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>add even numbers</h3><p>Open the terminal in the project directory and create a new <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**even**</span></span></code> command.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra add even</span></div></div></pre><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">even</span></span></code> command as <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">even.go</span></span></code> added in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cmd</span></span></code> folder.</p><p>Open the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">even.go</span></span></code> in the editor. Change <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code> to <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**addCmd**</span></span></code> in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code> .</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// even.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func init() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    addCmd.AddCommand(evenCmd)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">...</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd.AddCommand(evenCmd)</span></span></code> will add <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">evenCmd</span></span></code> as child or subcommand of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> .</p><p>Update the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">evenCmd</span></span></code> struct variable’s <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">RUN</span></span></code> method.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// even.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   var evenSum int</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   for _, ival := range args {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      itemp, _ := strconv.Atoi(ival)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      if itemp%2 == 0 {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">         evenSum = evenSum + itemp</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">   fmt.Printf(&quot;The even addition of %s is %d&quot;, args, evenSum)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">},</span></div></div></pre><p>It will first convert the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">string</span></span></code> into <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code> using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">strconv</span></span></code> package, then adding only even numbers.</p><p>Save all the changes. Rebuild the binary using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></span></code> .</p><p>Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc add even 1 2 3 4 5 6**</span></span></code></p><p><figure class="gatsby-resp-image-figure">
    <span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/351cb1db819f54964af6315664ce2b0f/56631/asset-9.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:33.362369337979096%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAvklEQVQY053OQQ6CMBAF0IlVZgotUmoLho0Y4/XYAMciwQVuSAh6DC5jFRfGyMafn1nNyww0bdNe2rnXrru9cr/fljKO4zAMfd9P0wQ85WQJNeIeiZOCmDMUEqSAMAQhIAhgvYbPMMbcLMsSZkmaKCUPPQXKYT8A339L19fyN66qCuzJJsckO2fRITLG5Ns8ja02qDUpxWb88/ITe8bDHbrjzDIhgmSVSPRVzJTaOCzd/3IZ/5EZ13X9Py6K4gEn6zwtJ9HjUgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="add even" title="add even" src="/static/351cb1db819f54964af6315664ce2b0f/69344/asset-9.png" srcSet="/static/351cb1db819f54964af6315664ce2b0f/17006/asset-9.png 175w,/static/351cb1db819f54964af6315664ce2b0f/d6f3f/asset-9.png 350w,/static/351cb1db819f54964af6315664ce2b0f/69344/asset-9.png 700w,/static/351cb1db819f54964af6315664ce2b0f/b1f9d/asset-9.png 1050w,/static/351cb1db819f54964af6315664ce2b0f/56631/asset-9.png 1148w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption">add even</figcaption>
  </figure></p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> is the root command, <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add</span></span></code> it the command of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">rootCmd</span></span></code> and <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">even</span></span></code> is the command (subcommand) of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> .</p><hr/><h3 id="add-odd-numbers"><a href="#add-odd-numbers" aria-label="add odd numbers permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>add odd numbers</h3><p>This is same as <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">evenCmd</span></span></code> . Instead of adding even numbers, it will add odd numbers.</p><p>Open the terminal in the project directory and create a new odd command.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cobra add odd</span></div></div></pre><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">odd</span></span></code> command as <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">odd.go</span></span></code> added in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">cmd</span></span></code> folder.</p><p>Open the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">odd.go</span></span></code> in the editor. Change <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**rootCmd**</span></span></code> to <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**addCmd**</span></span></code> in the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">init</span></span></code> .</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// odd.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">func init() {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    addCmd.AddCommand(oddCmd)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">...</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">}</span></div></div></pre><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd.AddCommand(oddCmd)</span></span></code> will add <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">oddCmd</span></span></code> as child or subcommand of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> .</p><p>Update the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">oddCmd</span></span></code> struct variable’s <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">RUN</span></span></code> method.</p><pre><div class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">// odd.go</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">Run: func(cmd *cobra.Command, args []string) {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    var oddSum int</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    for _, ival := range args {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      itemp, _ := strconv.Atoi(ival)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      if itemp%2 != 0 {</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">         oddSum = oddSum + itemp</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">      }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">    fmt.Printf(&quot;The odd addition of %s is %d&quot;, args, oddSum)</span></div><div class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">},</span></div></div></pre><p>It will first convert the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">string</span></span></code> into <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">int</span></span></code> using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">strconv</span></span></code> package, then adding only even numbers.</p><p>Save all the changes. Rebuild the binary using <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">go install my-calc</span></span></code> .</p><p>Run <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">**my-calc add odd 1 2 3 4 5 6**</span></span></code></p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <a class="gatsby-resp-image-link" href="/static/92863609374be339a1ca7360ea5dd8a4/c112d/asset-10.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:33.30434782608695%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAu0lEQVQY053NTQ6CQAwF4CIj7QwgDhYQNm7wdHAyFU1YkRAYb8F15GejRje8vLTp4kvhWl2qR3W7V+Os69p0xvTGPPt5Tf1K13Vt2zZNMwwD0FHKWBITpYQKAwjkxvF8cF3w56kU2Da8x57voigAGcfSgTBBlKhBqw2p2Xje1NH/xGVZQpIn6TnN8oxzDjk8+adkzxwhM42fFyzEH+xEDkW01VsRC+UptqKd4+rQ1loEASz+L16RT2ytxC9B9jqQM5ahGgAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="asset 10" title="asset 10" src="/static/92863609374be339a1ca7360ea5dd8a4/69344/asset-10.png" srcSet="/static/92863609374be339a1ca7360ea5dd8a4/17006/asset-10.png 175w,/static/92863609374be339a1ca7360ea5dd8a4/d6f3f/asset-10.png 350w,/static/92863609374be339a1ca7360ea5dd8a4/69344/asset-10.png 700w,/static/92863609374be339a1ca7360ea5dd8a4/b1f9d/asset-10.png 1050w,/static/92863609374be339a1ca7360ea5dd8a4/c112d/asset-10.png 1150w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span></p><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> is the root command, <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">add</span></span></code> it the command of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">rootCmd</span></span></code> and <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">odd</span></span></code> is the command (subcommand) of the <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">addCmd</span></span></code> .</p><hr/><p>Congratulations! You created your own cli in golang with cobra.</p><blockquote><p>The complete code is saved on <a href="https://github.com/schadokar/my-calc.git" target="_blank" rel="nofollow noopener noreferrer">Github</a>.</p></blockquote><p>The <code class="prism-code language-undefined" style="color:rgba(0, 0, 0, 0.84);background-color:rgb(243, 243, 243)"><span class="token-line" style="color:rgba(0, 0, 0, 0.84)"><span class="token plain">my-calc</span></span></code> cli project is complete. The main aim of this tutorial to understand the basics of the cobra library. The tutorial covered most of the basic operations required to create a cli. I will keep updating it with more basic operations if it requires. I hope I smoothened the learning curve of creating cli. Thanks for your time to read the tutorial. I hope you learned something and it is worth your time.</p><p>Please give your valuable feedback on this tutorial. I’ll make changes accordingly.</p><p>If you like my work and want to support me. You can buy me a coffee.</p><p><a href="https://www.buymeacoffee.com/uTDINEc" target="_blank" rel="nofollow noopener noreferrer"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:170px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:21.764705882352942%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAABF0lEQVQY0y2OzUoCYRiF52q6gUDIdGYxlUX2AxEt2hUECe0iSmoaydTUSKzICKNVy4qiHzNctRIUspZdQC3y24iLYN6nT6bFgfc8HF4eQ1yzQsLsqrj187Ziq05iROmuZKNfsR3Wt6VwBhVbA7qH/qO5E/RZL06wrXlHb1uG55pddm1qqwGK2QCNdRPOY3C5Bkkb/RxyE3AwA5lRP6lhzSahMAunC7A/rfkY7FgYXs/ADdHKz3uvzQv53LSF8rJ47y9C/Vp4OhRuc0LzXngsCtUT4SYtVI6Ej5rQuBNaz7ofi7YVQ9zwF8khvpO2VHN9tOMhSEeQzDiUFuGhoC0tyEa10RzsRX27VATOlqB+BeWYkJ8C1/z9A7ye5J6zdlkMAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="asset 11" title="asset 11" src="/static/d4b15a6893a7594f4bd06ebf73fc1159/be2c2/asset-11.png" srcSet="/static/d4b15a6893a7594f4bd06ebf73fc1159/be2c2/asset-11.png 170w" sizes="(max-width: 170px) 100vw, 170px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></a></p></article><footer class="container small"><small><a target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/search?q=http://localhost:8000/how-to-create-a-cli-in-golang-with-cobra/">Discuss on Twitter</a> <!-- -->·<!-- --> <a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/schadokar/medium-blog/edit/master/content/how-to-create-a-cli-in-golang-with-cobra/index.md">Edit this post on GitHub</a></small><hr style="margin:24px 0"/><div style="display:flex;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAEaUlEQVQ4yzWURyymWxjH32gZZfTee++99xa9915GL1e9XDJEbxnBRLAgStSN2CHYSUwkYiUkiBUrkczGhvub7733LN4c3zn/51+e5xBSUlIyMzPz8/OLi4vLysoqKiqqqqrq6urq6+sbGxv/+n81NDTU1NRwVF5eXlJSUlRUBERITU0VwaWlpZWVlSISWHNzc0tLS1tbW3t7e2tra1NTE+VEMDcLCwsLCgr+gLOzs9lR79u3byISKmCdnZ1/SxZ4CnHEBcAIFPFCWlpaTk4OO37irLq6Gk4R2d3d/Y9kgYccZk6rJAsmUEJycjLMgCnJGRvOurq6hoaGJiYmxsbG+vr6qNLR0UFR8DiHhmvghYSEBDwjGzDCuMRtMAjjEhLGx8cHBgbAQ44jcuGIEgQsxMXFpaeni2BSQS35h4WFGRoampmZubu7+/r6EvXg4CDOqQ4M/7W1tdwRoBU1c4BaflJUVFRVVXVxccnIyEiWLKpDCxghPT094IODg21tbQWCJY/v378PDw8vLCzg4uvXr35+flyanJycnp6GJCQkJCkpaXR0FP1Y5ZTS4IXe3l5gP378ALm3t0ckRkZGOzs719fXNzc39/f3V1dXWPP09CQIHOEiKioqNzcX50J4eDhsBI5sNvLy8rGxsfv7+4eHh78k6/HxEU5ExsTExMfHi035r1W6uroEY2dn5+bmZmBgYGlpibGRkRGiXllZmZmZQRSBIxsqusX8gmQ6EhMTBVK1srIC6eXlpaOjExAQsLa2Bu3q6urp6Sn6d3d3aR5y6D/+8/LyEAhZYGCgEBERQVU84NbJyQkhi4uLFxcX6+vrm5ubR0dHDw8P9I+jdMmCHP02NjbR0dECOvHj6OgoypaVlWUSYCAF2kMjf/78yR5rvKTt7e3z83Nq6enpRUZGCsrKyqglYfSz0dDQMDY2xvDBwcHZ2dnS0hJ9Jl7w0BIH5VxdXWEmPAEAtyEXkcjGCC3g3uzsLFNJCowHIaGW9gJTV1fX0tL6ExhWmRNmC9na2tqEh2ZgWVlZNIMSzBOvDc1I8Pb2Jir8m5ub+/v7C/yNKh8fH8zjmV+h5T0xW3wZIQZD/IdRJlnMPxz29vbOzs4CA2BqaopyPBOD2HYmYXl5eW5uDhiyxacCAeDPz0+aZ21tDUR4enoKCgqiGJlRBTx7jPX39+OT8vQ/NDSUIExMTJitT8man59XU1MTbm9vSVJBQQFCwNzQ19dnw2PEFaY8PDwcHBzg5zYVPz4+Xl5efv/+Dbnw9vZGPWlpaQyDxDPKIWSAeD1IZQQIiYfBayP25+fn19dXyKempoTLy0tS/fLlCw0AbGFhQRW+vCTAIOkiFfkCJtrj42NmnslhhAXGjY4pKSmpqKjQPe4ROz0nIV4snBTCCPHw4Njjn9mmERsbGwKpMBvkBJgSaAaMPZqBW2ohhAjBwywlJUXP7u7u3t/fMS9sbW3JyclxJoIRT88AU4XMSY6NpqYmeKzJyMhg9eTkhJgJ61/RljObhsPmXgAAAABJRU5ErkJggg==" alt="Shubham Chadokar" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/98adaec5578b77c747bf11266832a0df/58ab1/avatar.png 1x,
/static/98adaec5578b77c747bf11266832a0df/ab950/avatar.png 1.5x,
/static/98adaec5578b77c747bf11266832a0df/24b23/avatar.png 2x" /><img loading="lazy" width="50" height="50" srcset="/static/98adaec5578b77c747bf11266832a0df/58ab1/avatar.png 1x,
/static/98adaec5578b77c747bf11266832a0df/ab950/avatar.png 1.5x,
/static/98adaec5578b77c747bf11266832a0df/24b23/avatar.png 2x" src="/static/98adaec5578b77c747bf11266832a0df/58ab1/avatar.png" alt="Shubham Chadokar" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p style="margin:0">Written by <strong>Shubham Chadokar</strong> Developer | Photographer | Writer<!-- -->.<!-- --> <a href="https://twitter.com/schadokar1">You should follow them on Twitter.</a></p></div><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/catalyst-network-the-first-step-towards-decentralized-internet/">← <!-- -->Catalyst Network: The first step towards Decentralized Internet</a></li><li></li></ul></footer></section></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/how-to-create-a-cli-in-golang-with-cobra/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-13d029d0acd1fb469d34.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-957f66fbdf20d85e524e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-d3c1e154c17017260c23.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-9b8d9d6fe5a23d7fb326.js"],"component---src-pages-index-js":["/component---src-pages-index-js-8907dad0a9b5eaf373f5.js"],"component---src-pages-projects-js":["/component---src-pages-projects-js-5ed142c4924f3323b690.js"]};/*]]>*/</script><script src="/webpack-runtime-0527226ffe0bf4b6c4d9.js" async=""></script><script src="/commons-202325fe017350888d90.js" async=""></script><script src="/styles-9f2f8ba11a27ba11f3e8.js" async=""></script><script src="/component---src-templates-blog-post-js-957f66fbdf20d85e524e.js" async=""></script><script src="/app-13d029d0acd1fb469d34.js" async=""></script></body></html>